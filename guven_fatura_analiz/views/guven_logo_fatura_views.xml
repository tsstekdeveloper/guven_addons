<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Search View -->
        <record id="view_guven_logo_fatura_search" model="ir.ui.view">
            <field name="name">guven.logo.fatura.search</field>
            <field name="model">guven.logo.fatura</field>
            <field name="arch" type="xml">
                <search string="Logo Fatura Arama">
                    <field name="fatura_no_1"/>
                    <field name="fatura_no_2"/>
                    <field name="vkn"/>
                    <field name="tckn"/>
                    <separator/>
                    <filter name="filter_aktif" string="Aktif" domain="[('iptal_durumu', '=', '0')]"/>
                    <filter name="filter_iptal" string="İptal" domain="[('iptal_durumu', '=', '1')]"/>
                    <separator/>
                    <filter name="filter_alis" string="Alış" domain="[('fatura_tipi', 'in', ['1', '3', '4', '13'])]"/>
                    <filter name="filter_satis" string="Satış" domain="[('fatura_tipi', 'in', ['6', '7', '8', '9'])]"/>
                    <group>
                        <filter name="group_fatura_tipi" string="Fatura Tipi" context="{'group_by': 'fatura_tipi'}"/>
                        <filter name="group_iptal_durumu" string="İptal Durumu" context="{'group_by': 'iptal_durumu'}"/>
                        <filter name="group_fatura_tarihi" string="Fatura Tarihi" context="{'group_by': 'fatura_tarihi_1:month'}"/>
                        <filter name="group_para_birimi" string="Para Birimi" context="{'group_by': 'para_birimi'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- List View -->
        <record id="view_guven_logo_fatura_list" model="ir.ui.view">
            <field name="name">guven.logo.fatura.list</field>
            <field name="model">guven.logo.fatura</field>
            <field name="arch" type="xml">
                <list create="0" delete="0" decoration-muted="iptal_durumu == '1'">
                    <field name="logo_id" optional="show"/>
                    <field name="fatura_no_1" optional="show"/>
                    <field name="fatura_no_2" optional="show"/>
                    <field name="fatura_tipi" optional="show"/>
                    <field name="fatura_tarihi_1" optional="show"/>
                    <field name="fatura_tarihi_2" optional="show"/>
                    <field name="iptal_durumu" optional="show"/>
                    <field name="vkn" optional="show"/>
                    <field name="tckn" optional="show"/>
                    <field name="fatura_tutari" sum="Toplam" optional="show"/>
                    <field name="para_birimi" optional="show"/>
                    <field name="kur" optional="show"/>
                    <field name="doviz_tutari" sum="Toplam" optional="show"/>
                    <field name="company_id" optional="hide" groups="base.group_multi_company"/>
                </list>
            </field>
        </record>

        <!-- Form View -->
        <record id="view_guven_logo_fatura_form" model="ir.ui.view">
            <field name="name">guven.logo.fatura.form</field>
            <field name="model">guven.logo.fatura</field>
            <field name="arch" type="xml">
                <form create="0" delete="0" edit="0">
                    <sheet>
                        <group>
                            <group string="Fatura Bilgileri">
                                <field name="logo_id"/>
                                <field name="fatura_no_1"/>
                                <field name="fatura_no_2"/>
                                <field name="fatura_tipi"/>
                                <field name="iptal_durumu"/>
                            </group>
                            <group string="Tarih ve Tutar">
                                <field name="fatura_tarihi_1"/>
                                <field name="fatura_tarihi_2"/>
                                <field name="fatura_tutari"/>
                                <field name="para_birimi"/>
                                <field name="kur"/>
                                <field name="doviz_tutari"/>
                            </group>
                        </group>
                        <group>
                            <group string="Cari Bilgileri">
                                <field name="vkn"/>
                                <field name="tckn"/>
                            </group>
                            <group string="Diğer">
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Action -->
        <record id="action_guven_logo_fatura" model="ir.actions.act_window">
            <field name="name">Logo Fatura Listesi</field>
            <field name="res_model">guven.logo.fatura</field>
            <field name="view_mode">list,form</field>
            <field name="search_view_id" ref="view_guven_logo_fatura_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Henüz Logo faturası yok.
                </p>
                <p>
                    Logo ERP'den senkronize edilen faturalar burada listelenir.
                </p>
            </field>
        </record>

    </data>
</odoo>
